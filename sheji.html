<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品宣传模板设计器</title>
    <link rel="stylesheet" href="zhu.css">
    <link rel="stylesheet" href="gonggong.css">
    <link rel="stylesheet" href="ysfill/daohang.css">
    <link rel="stylesheet" href="ysfill/kuangjia.css">
    <link rel="stylesheet" href="ysfill/shuiyin.css">
    <!-- 历史图片面板样式 -->
    <link rel="stylesheet" href="ysfill/lishi.css">
    <!-- 新增搜索和分页样式 -->
    <link rel="stylesheet" href="ysfill/sousuo.css">
    <link rel="stylesheet" href="ysfill/yulan.css">
</head>
<body>
    <div class="page-container">
        <!-- 左侧设置面板 -->
        <div class="settings-panel">
            <!-- 顶部用户信息栏 -->
            <div class="settings-user-header">
                <div class="user-info-container">
                    <button class="logout-icon" id="logoutBtn" title="退出登录">
                        <svg t="1745139367695" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="28157" width="20" height="20">
                            <path d="M916.6 418.7c-7.7-31.4-18.7-61.2-32.9-89.6-14.3-28.3-31.9-54.8-52.9-79.4-21-24.6-44.7-47-70.6-66.5-13.6-9.8-28.3-13.5-44-11.1-15.8 2.5-28.6 10.2-38.5 23.2-9.9 13-13.6 27.4-11.2 43.4 2.5 16 10.2 29 23.3 38.7 38.9 28.4 68.7 63.1 89.5 104.4 20.8 41.2 31 85.6 31 133 0 40.6-7.7 78.9-23.3 115-15.4 36-36.6 67.4-63.6 94.2-27 26.7-58.5 48-94.6 63.7-36.2 15.7-74.7 23.4-115.6 23.4-40.8 0-79.3-7.9-115.5-23.5-36.2-15.7-67.4-37-94.4-63.8-26.9-26.7-48.2-58.2-64-94.2-15.8-36-23.7-74.4-23.7-115 0-48 11.2-93.5 33.4-136.2 22.3-42.7 53.5-78 93.6-105.8 13.6-9.3 21.9-21.9 24.6-37.9 2.8-16-0.4-30.8-9.8-44.4-9.3-13-22-20.8-38-23.5-15.9-2.8-30.8 0.4-44.4 9.7-27.8 19.7-52.6 42-74.2 67s-40.2 51.9-55.7 80.8a398.38 398.38 0 0 0-35.2 91.9c-8 32.3-12.1 65.1-12.1 98.3 0 57.2 11 110.9 32.9 161.2 22 50.2 51.7 93.9 89.1 131.1 37.4 37.3 81.3 66.8 131.7 88.6 50.4 21.9 104.4 32.8 161.9 32.8 56.9 0 110.5-10.9 161-32.8 50.3-21.9 94.4-51.5 132.1-88.6 37.7-37.3 67.4-80.9 89.1-131.1 21.6-50.2 32.4-103.9 32.4-161.2 0.2-32.4-3.7-64.4-11.4-95.8zM517 540.4c15.1 0 28.2-5.4 38.9-16.1 10.8-10.7 16.2-23.7 16.2-38.8V153.9c0-15-5.4-28.2-16.2-39.3-10.8-11-23.8-16.6-38.9-16.6-15.8 0-29.1 5.5-39.9 16.6-10.8 11-16.2 24.1-16.2 39.3v331.4c0 15 5.4 28 16.2 38.8 10.9 10.9 24.1 16.3 39.9 16.3z m0 0" fill="#258EE5" p-id="28570"></path>
                        </svg>
                    </button>
                    <div class="user-greeting" id="userGreeting">您好，...</div>
                </div>
            </div>
            
            <!-- 可滚动的设置内容区域 -->
            <div class="settings-content custom-scrollbar left-scrollbar">
                <div class="panel-section">
                    <h3>1.主布局</h3>
                    <div class="setting-item">
                        <label for="container-width">宽度:</label>
                        <input type="number" id="container-width" value="900" min="400" max="1600">
                    </div>
                    <div class="setting-item">
                        <label for="interior-background">背景颜色:</label>
                        <input type="color" id="interior-background" value="#3F56DC">
                    </div>
                    <div class="setting-item">
                        <label for="product-count">图片数量:</label>
                        <input type="number" id="product-count" value="8" min="1" max="30">
                    </div>
                    <div class="setting-item">
                        <label for="product-gap">图片间距:</label>
                        <input type="number" id="product-gap" value="20" min="5" max="50">
                    </div>
                    <div class="setting-item">
                        <label for="product-columns">列布局:</label>
                        <select id="product-columns">
                            <option value="1">1列</option>
                            <option value="2">2列</option>
                            <option value="3">3列</option>
                            <option value="4" selected>4列</option>
                            <option value="5">5列</option>
                            <option value="6">6列</option>
                            <option value="7">7列</option>
                            <option value="8">8列</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="exterior-background">外部背景:</label>
                        <input type="color" id="exterior-background" value="#d6d6d6">
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>2.顶部宣传图</h3>
                    <div class="setting-item">
                        <label for="header-display">显示:</label>
                        <select id="header-display">
                            <option value="original">原图</option>
                            <option value="stretch" selected>拉伸</option>
                            <option value="fill">填充</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="header-height">高度:</label>
                        <input type="number" id="header-height" value="380" min="100" max="800">
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>3.底部标签图</h3>
                    <div class="setting-item">
                        <label for="footer-display">显示:</label>
                        <select id="footer-display">
                            <option value="original">原图</option>
                            <option value="stretch" selected>拉伸</option>
                            <option value="fill">填充</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="footer-height">高度:</label>
                        <input type="number" id="footer-height" value="155" min="50" max="400">
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>4.商品陈列图</h3>
                    <div class="setting-item">
                        <label for="product-display">显示:</label>
                        <select id="product-display">
                            <option value="original">原图</option>
                            <option value="stretch" selected>拉伸</option>
                            <option value="fill">填充</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="product-width">宽度:</label>
                        <input type="number" id="product-width" value="645" min="300" max="1000">
                    </div>
                    <div class="setting-item">
                        <label for="product-height">高度:</label>
                        <input type="number" id="product-height" value="980" min="300" max="1200">
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3>5.水印文字</h3>
                    <div class="setting-item">
                        <label for="watermark-enabled">水印开关:</label>
                        <input type="checkbox" id="watermark-enabled" checked>
                    </div>
                    <div class="setting-item">
                        <label for="watermark-color">文字颜色:</label>
                        <input type="color" id="watermark-color" value="#ff0000">
                    </div>
                    <div class="setting-item">
                        <label for="watermark-weight">文字粗细:</label>
                        <select id="watermark-weight">
                            <option value="normal">正常</option>
                            <option value="bold" selected>粗体</option>
                            <option value="lighter">细体</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="watermark-size">文字大小:</label>
                        <input type="number" id="watermark-size" min="12" max="48" value="16">
                    </div>
                    <div class="setting-item">
                        <label for="watermark-border-color">边框颜色:</label>
                        <input type="color" id="watermark-border-color" value="#ff0000">
                    </div>
                    <div class="setting-item">
                        <label for="watermark-border">边框粗细:</label>
                        <input type="number" id="watermark-border" min="0" max="5" value="3">
                    </div>
                    <div class="setting-item">
                        <label for="watermark-angle">旋转角度:</label>
                        <input type="number" id="watermark-angle" min="-45" max="45" value="-15">
                    </div>
                </div>
            </div>

            <!-- 在设置面板的结束标签前添加以下代码 -->
            <div class="settings-bottom-footer">
                <button id="resetSettingsBtn" class="reset-settings-btn">重置布局设置</button>
            </div>

        </div>
        
        <!-- 中间预览区域 -->
        <div class="preview-container">
            <div class="container">
                <!-- 头部区域 - 更新提示文本 -->
                <div class="header-wrapper">
                    <div class="header-image">
                        <img src="/api/placeholder/900/200" alt="头部宣传图" style="display: none;" id="header-img">
                        <div class="delete-btn" style="display: none;" onclick="deleteImage('header-img')">×</div>
                        <label class="upload-btn" for="upload-header">
                            <span class="upload-text">双击上传头部宣传图</span>
                            <input type="file" id="upload-header" style="display:none" multiple>
                        </label>
                    </div>
                </div>
                
                <!-- 产品网格 -->
                <div class="product-grid">
                    <!-- 产品项目将通过JavaScript动态生成 -->
                </div>
                
                <!-- 底部区域 - 更新提示文本 -->
                <div class="footer-wrapper">
                    <div class="footer-image">
                        <img src="/api/placeholder/900/100" alt="底部宣传图" style="display: none;" id="footer-img">
                        <div class="delete-btn" style="display: none;" onclick="deleteImage('footer-img')">×</div>
                        <label class="upload-btn" for="upload-footer">
                            <span class="upload-text">双击上传底部标签图</span>
                            <input type="file" id="upload-footer" style="display:none" multiple>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 修改：右侧历史图片面板 -->
        <div class="history-panel collapsed custom-scrollbar">
            <div class="panel-header">
                <h3>历史图片面板</h3>
            </div>
            
            <!-- 新增：搜索框 -->
            <div class="search-box">
                <input type="text" id="history-search" placeholder="搜索图片...">
                <span class="search-clear" id="search-clear">×</span>
            </div>
            
            <div class="history-container custom-scrollbar">
                <!-- 历史图片将通过JavaScript动态生成 -->
                <div class="empty-history-message">尚无历史图片</div>
            </div>
            
            <!-- 新增：分页导航 -->
            <div class="pagination-container">
                <button class="pagination-btn prev-btn" disabled>
                    <span class="arrow">&#9664;</span>
                </button>
                <div class="pagination-numbers">
                    <!-- 页码按钮将通过JavaScript动态生成 -->
                </div>
                <button class="pagination-btn next-btn" disabled>
                    <span class="arrow">&#9654;</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- 引入JavaScript文件 -->
    <script src="gnfill/yulan.js"></script>
    <script src="gnfill/tupian.js"></script>
    <script src="gnfill/shuiyin.js"></script>
    <script src="gnfill/daohang.js"></script>
    <!-- 历史图片面板脚本 -->
    <script src="gnfill/lishi.js"></script>
    <!-- 新增搜索和分页脚本 -->
    <script src="gnfill/lishis/sousuo.js"></script>
    <script src="gnfill/lishis/fenye.js"></script>
    <script src="zhu.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="gnfill/ocr.js"></script>
</body>
</html>